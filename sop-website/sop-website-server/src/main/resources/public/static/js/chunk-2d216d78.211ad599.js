(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d216d78"],{c3d6:function(t,e,s){"use strict";s.r(e);var l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-container"},[s("h3",[t._v("基本信息")]),t._v(" "),s("div",{staticClass:"base-info"},[s("el-form",{staticClass:"text-form",attrs:{"label-width":"150px"}},[s("el-form-item",{attrs:{label:"应用ID（appId）"}},[t._v("\n        "+t._s(t.isvInfo.appId)+"\n      ")]),t._v(" "),s("el-form-item",{attrs:{label:"应用公钥"}},[t.isvInfo.isUploadPublicKey?s("span",{staticClass:"success"},[t._v("已上传 "),s("el-button",{attrs:{type:"text"},on:{click:function(e){return t.showKeys(t.isvInfo)}}},[t._v("修改/查看")])],1):s("span",{staticClass:"warning"},[t._v("未上传 "),s("el-button",{attrs:{type:"text"},on:{click:function(e){return t.showKeys(t.isvInfo)}}},[t._v("上传")])],1)])],1),t._v(" "),s("el-dialog",{attrs:{visible:t.keysDlgViewShow},on:{"update:visible":function(e){t.keysDlgViewShow=e}}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n        配置公钥\n      ")]),t._v(" "),s("router-link",{attrs:{target:"_blank",to:"/help?id=keys"}},[s("el-button",{attrs:{type:"text",icon:"el-icon-question"}},[t._v("公私钥介绍")])],1),t._v(" "),s("fieldset",[s("legend",[t._v("应用公钥")]),t._v(" "),s("el-alert",{staticClass:"el-alert-tip",attrs:{type:"success",closable:!1}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("公钥已上传 "),s("el-link",{attrs:{underline:!1,type:"primary"},on:{click:t.reUploadPublicKey}},[t._v("重新上传")])],1)]),t._v(" "),s("div",{staticClass:"key-content"},[t._v(" "+t._s(t.keys.publicKeyIsv)+" ")])],1),t._v(" "),s("br"),t._v(" "),s("fieldset",[s("legend",[t._v("平台公钥")]),t._v(" "),s("div",{staticClass:"key-content"},[t._v(" "+t._s(t.keys.publicKeyPlatform)+" ")])]),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.keysDlgViewShow=!1}}},[t._v("关 闭")])],1)],1),t._v(" "),s("el-dialog",{attrs:{visible:t.keysUploadDlgShow,"close-on-click-modal":!1},on:{"update:visible":function(e){t.keysUploadDlgShow=e}}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n        配置公钥\n      ")]),t._v(" "),s("router-link",{attrs:{target:"_blank",to:"/help?id=keys"}},[s("el-button",{attrs:{type:"text",icon:"el-icon-question"}},[t._v("公私钥介绍")])],1),t._v(" "),s("fieldset",[s("legend",[t._v("上传应用公钥")]),t._v(" "),s("el-alert",{staticClass:"el-alert-tip",attrs:{title:"生成一对公私钥，将公钥填在这里，私钥妥善保存，用于接口调用",closable:!1}}),t._v(" "),s("el-form",{ref:"keysForm",attrs:{model:t.keys}},[s("el-form-item",{attrs:{prop:"publicKeyIsv",rules:[{required:!0,message:"请填写公钥",trigger:"blur"}]}},[s("el-input",{attrs:{type:"textarea",rows:5,placeholder:"公钥，去除-----BEGIN PUBLIC KEY-----  -----END PUBLIC KEY-----部分"},model:{value:t.keys.publicKeyIsv,callback:function(e){t.$set(t.keys,"publicKeyIsv",e)},expression:"keys.publicKeyIsv"}})],1)],1)],1),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{loading:t.keysBtnLoading,type:"primary"},on:{click:t.onUploadPublicKey}},[t._v("上 传")])],1)],1)],1)])},i=[],o=(s("ac6a"),{data:function(){return{isvInfo:{appId:"",isUploadPublicKey:0},keys:{isUploadPublicKey:0,publicKeyIsv:"",publicKeyPlatform:"",env:0},keysBtnLoading:!1,keysDlgViewShow:!1,keysUploadDlgShow:!1}},created:function(){this.loadIsvInfo()},methods:{loadIsvInfo:function(){var t=this;this.get("/portal/isv/getIsvPortal",{},(function(e){t.isvInfo=e.data}))},showKeys:function(t){Object.assign(this.keys,{isUploadPublicKey:t.isUploadPublicKey}),this.keys.isUploadPublicKey?this.loadPublicKey():(this.keys.publicKeyIsv="",this.keysUploadDlgShow=!0)},reUploadPublicKey:function(){this.keysDlgViewShow=!1,this.keys.isUploadPublicKey=0,this.keys.publicKeyIsv="",this.keysUploadDlgShow=!0},loadPublicKey:function(){var t=this;this.get("/portal/isv/getPublicKey",{},(function(e){t.showPublicKey(e.data)}))},showPublicKey:function(t){Object.assign(this.keys,t),this.keysDlgViewShow=!0},onUploadPublicKey:function(){var t=this;this.$refs.keysForm.validate((function(e){e&&(t.keysBtnLoading=!0,t.post("/portal/isv/uploadPublicKey",{publicKeyIsv:t.keys.publicKeyIsv},(function(e){t.keysBtnLoading=!1,t.keysUploadDlgShow=!1,t.showPublicKey(e.data),t.loadIsvInfo()}),(function(e){t.keysBtnLoading=!1,t.tipError(e.msg)})))}))}}}),a=o,n=s("2877"),c=Object(n["a"])(a,l,i,!1,null,null,null);e["default"]=c.exports}}]);