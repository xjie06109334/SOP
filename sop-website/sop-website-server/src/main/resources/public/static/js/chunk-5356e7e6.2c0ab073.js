(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5356e7e6"],{"11e9":function(e,t,a){var r=a("52a7"),n=a("4630"),o=a("6821"),l=a("6a99"),s=a("69a8"),i=a("c69a"),c=Object.getOwnPropertyDescriptor;t.f=a("9e1e")?c:function(e,t){if(e=o(e),t=l(t,!0),i)try{return c(e,t)}catch(a){}if(s(e,t))return n(!r.f.call(e,t),e[t])}},"164c":function(e,t,a){"use strict";a("e241")},"1e6f":function(e,t,a){},"28a5":function(e,t,a){"use strict";var r=a("aae3"),n=a("cb7c"),o=a("ebd6"),l=a("0390"),s=a("9def"),i=a("5f1b"),c=a("520a"),u=a("79e5"),p=Math.min,d=[].push,f="split",m="length",h="lastIndex",v=4294967295,b=!u((function(){RegExp(v,"y")}));a("214f")("split",2,(function(e,t,a,u){var _;return _="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[m]||2!="ab"[f](/(?:ab)*/)[m]||4!="."[f](/(.?)(.?)/)[m]||"."[f](/()()/)[m]>1||""[f](/.?/)[m]?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!r(e))return a.call(n,e,t);var o,l,s,i=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,f=void 0===t?v:t>>>0,b=new RegExp(e.source,u+"g");while(o=c.call(b,n)){if(l=b[h],l>p&&(i.push(n.slice(p,o.index)),o[m]>1&&o.index<n[m]&&d.apply(i,o.slice(1)),s=o[0][m],p=l,i[m]>=f))break;b[h]===o.index&&b[h]++}return p===n[m]?!s&&b.test("")||i.push(""):i.push(n.slice(p)),i[m]>f?i.slice(0,f):i}:"0"[f](void 0,0)[m]?function(e,t){return void 0===e&&0===t?[]:a.call(this,e,t)}:a,[function(a,r){var n=e(this),o=void 0==a?void 0:a[t];return void 0!==o?o.call(a,n,r):_.call(String(n),a,r)},function(e,t){var r=u(_,e,this,t,_!==a);if(r.done)return r.value;var c=n(e),d=String(this),f=o(c,RegExp),m=c.unicode,h=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(b?"y":"g"),g=new f(b?c:"^(?:"+c.source+")",h),y=void 0===t?v:t>>>0;if(0===y)return[];if(0===d.length)return null===i(g,d)?[d]:[];var w=0,x=0,S=[];while(x<d.length){g.lastIndex=b?x:0;var I,C=i(g,b?d:d.slice(x));if(null===C||(I=p(s(g.lastIndex+(b?0:x)),d.length))===w)x=l(d,x,m);else{if(S.push(d.slice(w,x)),S.length===y)return S;for(var k=1;k<=C.length-1;k++)if(S.push(C[k]),S.length===y)return S;x=w=I}}return S.push(d.slice(w)),S}]}))},3646:function(e,t,a){},"3b2b":function(e,t,a){var r=a("7726"),n=a("5dbc"),o=a("86cc").f,l=a("9093").f,s=a("aae3"),i=a("0bfb"),c=r.RegExp,u=c,p=c.prototype,d=/a/g,f=/a/g,m=new c(d)!==d;if(a("9e1e")&&(!m||a("79e5")((function(){return f[a("2b4c")("match")]=!1,c(d)!=d||c(f)==f||"/a/i"!=c(d,"i")})))){c=function(e,t){var a=this instanceof c,r=s(e),o=void 0===t;return!a&&r&&e.constructor===c&&o?e:n(m?new u(r&&!o?e.source:e,t):u((r=e instanceof c)?e.source:e,r&&o?i.call(e):t),a?this:p,c)};for(var h=function(e){e in c||o(c,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},v=l(u),b=0;v.length>b;)h(v[b++]);p.constructor=c,c.prototype=p,a("2aba")(r,"RegExp",c)}a("7a56")("RegExp")},"456d":function(e,t,a){var r=a("4bf8"),n=a("0d58");a("5eda")("keys",(function(){return function(e){return n(r(e))}}))},4917:function(e,t,a){"use strict";var r=a("cb7c"),n=a("9def"),o=a("0390"),l=a("5f1b");a("214f")("match",1,(function(e,t,a,s){return[function(a){var r=e(this),n=void 0==a?void 0:a[t];return void 0!==n?n.call(a,r):new RegExp(a)[t](String(r))},function(e){var t=s(a,e,this);if(t.done)return t.value;var i=r(e),c=String(this);if(!i.global)return l(i,c);var u=i.unicode;i.lastIndex=0;var p,d=[],f=0;while(null!==(p=l(i,c))){var m=String(p[0]);d[f]=m,""===m&&(i.lastIndex=o(c,n(i.lastIndex),u)),f++}return 0===f?null:d}]}))},"504c":function(e,t,a){var r=a("9e1e"),n=a("0d58"),o=a("6821"),l=a("52a7").f;e.exports=function(e){return function(t){var a,s=o(t),i=n(s),c=i.length,u=0,p=[];while(c>u)a=i[u++],r&&!l.call(s,a)||p.push(e?[a,s[a]]:s[a]);return p}}},5147:function(e,t,a){var r=a("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[r]=!1,!"/./"[e](t)}catch(n){}}return!0}},"5a30":function(e,t,a){"use strict";a("3646")},"5dbc":function(e,t,a){var r=a("d3f4"),n=a("8b97").set;e.exports=function(e,t,a){var o,l=t.constructor;return l!==a&&"function"==typeof l&&(o=l.prototype)!==a.prototype&&r(o)&&n&&n(e,o),e}},"5df3":function(e,t,a){"use strict";var r=a("02f4")(!0);a("01f9")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,a=this._i;return a>=t.length?{value:void 0,done:!0}:(e=r(t,a),this._i+=e.length,{value:e,done:!1})}))},"5eda":function(e,t,a){var r=a("5ca1"),n=a("8378"),o=a("79e5");e.exports=function(e,t){var a=(n.Object||{})[e]||Object[e],l={};l[e]=t(a),r(r.S+r.F*o((function(){a(1)})),"Object",l)}},"64e1":function(e,t,a){},"66a7":function(e,t,a){"use strict";a("1e6f")},8615:function(e,t,a){var r=a("5ca1"),n=a("504c")(!1);r(r.S,"Object",{values:function(e){return n(e)}})},"8b97":function(e,t,a){var r=a("d3f4"),n=a("cb7c"),o=function(e,t){if(n(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,a){return o(e,a),t?e.__proto__=a:r(e,a),e}}({},!1):void 0),check:o}},9093:function(e,t,a){var r=a("ce10"),n=a("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,n)}},aae3:function(e,t,a){var r=a("d3f4"),n=a("2d95"),o=a("2b4c")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==n(e))}},d2c8:function(e,t,a){var r=a("aae3"),n=a("be13");e.exports=function(e,t,a){if(r(t))throw TypeError("String#"+a+" doesn't accept regex!");return String(n(e))}},d505:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-container",[a("el-aside",{staticStyle:{"border-right":"1px solid #eee","padding-right":"20px"},attrs:{width:"300px"}},[a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.docVO.menuProjects.length>0,expression:"docVO.menuProjects.length > 0"}],staticStyle:{"margin-bottom":"10px"},attrs:{"prefix-icon":"el-icon-search",placeholder:"搜索：支持接口名，文档标题",size:"mini",clearable:""},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),a("el-tree",{ref:"tree",attrs:{data:e.docVO.menuProjects,props:e.defaultProps,"filter-node-method":e.filterNode,"node-key":"id","default-expand-all":"","highlight-current":"","empty-text":"暂无文档"},on:{"current-change":e.onDocSelect}})],1),e._v(" "),a("el-main",{staticStyle:{"padding-top":"0"}},[a("el-tabs",[a("el-tabs",{directives:[{name:"show",rawName:"v-show",value:e.item,expression:"item"}],attrs:{type:"card"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("el-tab-pane",{attrs:{name:"info"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-document"}),e._v(" 接口信息")]),e._v(" "),a("doc-view",{attrs:{item:e.item,"url-prod":e.docVO.urlProd}})],1),e._v(" "),a("el-tab-pane",{attrs:{name:"debug"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-position"}),e._v(" 接口调试")]),e._v(" "),a("docdebug",{attrs:{item:e.item,"app-id":e.docVO.appId,"gateway-url":e.docVO.gatewayUrl}})],1)],1)],1)],1)],1)],1)},n=[],o=(a("64e1"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v(e._s(e.docInfo.summary))]),e._v(" "),a("el-table",{attrs:{data:[{methodLabel:"接口名(method)",methodValue:e.docInfo.name,versionLabel:"版本号(version)",versionValue:e.docInfo.version}],border:"","cell-style":e.baseInfoCellStyle,"show-header":!1}},[a("el-table-column",{attrs:{prop:"methodLabel",align:"center",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"api-info"},[e._v(e._s(t.row.methodLabel))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"methodValue"}}),e._v(" "),a("el-table-column",{attrs:{prop:"versionLabel",align:"center",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"api-info"},[e._v(e._s(t.row.versionLabel))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"versionValue",width:"120"}})],1),e._v(" "),a("h3",[e._v("接口描述")]),e._v(" "),a("div",{staticClass:"doc-overview"},[e._v(e._s(e.docInfo.description||e.docInfo.title))]),e._v(" "),a("h3",[e._v("请求地址")]),e._v(" "),a("el-table",{attrs:{data:[{envLabel:"环境",envValue:"正式环境",urlLabel:"请求地址",urlValue:e.urlProd}],border:"","cell-style":e.baseInfoCellStyle,"show-header":!1}},[a("el-table-column",{attrs:{align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"api-info"},[e._v(e._s(t.row.envLabel))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"envValue",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"api-info"},[e._v(e._s(t.row.urlLabel))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"urlValue"}})],1),e._v(" "),a("h3",[e._v("请求方法")]),e._v(" "),a("div",{staticClass:"doc-request-method"},[e._v("\n    "+e._s(e.docInfo.httpMethodList&&e.docInfo.httpMethodList.join(" / ").toUpperCase())+"\n  ")]),e._v(" "),a("h2",[e._v("请求参数")]),e._v(" "),a("h3",[e._v("公共请求参数")]),e._v(" "),a("el-table",{attrs:{data:e.commonParams,"cell-style":e.cellStyleSmall(),"header-cell-style":e.headCellStyleSmall(),border:""}},[a("el-table-column",{attrs:{prop:"name",label:"名称",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"must",label:"必须",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:t.row.must?"danger":""},[e._v(e._s(t.row.must?"是":"否"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.description)+"\n        "),"sign"===t.row.name?a("span",[e._v("，\n          "),a("router-link",{attrs:{target:"_blank",to:"/help?id=sign"}},[a("el-button",{attrs:{type:"text"}},[e._v("签名算法介绍")])],1)],1):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"example",label:"示例值"}})],1),e._v(" "),a("h3",[e._v("业务请求参数")]),e._v(" "),a("parameter-table",{attrs:{data:e.docInfo.requestParameters}}),e._v(" "),a("h2",[e._v("响应参数")]),e._v(" "),a("h3",[e._v("公共响应参数")]),e._v(" "),a("el-table",{attrs:{data:e.commonResult,"cell-style":e.cellStyleSmall(),"header-cell-style":e.headCellStyleSmall(),border:""}},[a("el-table-column",{attrs:{prop:"name",label:"名称",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),e._v(" "),a("el-table-column",{attrs:{prop:"example",label:"示例值"}})],1),e._v(" "),a("h3",[e._v("业务响应参数")]),e._v(" "),a("parameter-table",{attrs:{data:e.docInfo.responseParameters}}),e._v(" "),a("h3",[e._v("响应示例")]),e._v(" "),a("pre",{staticClass:"normal-text"},[e._v(e._s(JSON.stringify(e.responseSuccessExample,null,4)))]),e._v(" "),a("h3",[e._v("错误示例")]),e._v(" "),a("pre",{staticClass:"normal-text"},[e._v(e._s(JSON.stringify(e.responseErrorExample,null,4)))]),e._v(" "),a("h2",[e._v("业务错误码")]),e._v(" "),a("router-link",{attrs:{target:"_blank",to:"/code"}},[a("el-button",{attrs:{type:"text"}},[e._v("公共错误码")])],1),e._v(" "),a("el-table",{attrs:{data:e.docInfo.bizCodeList,border:"","cell-style":e.cellStyleSmall(),"header-cell-style":e.headCellStyleSmall()}},[a("el-table-column",{attrs:{prop:"code",label:"sub_code（错误码）",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"msg",label:"sub_msg（错误描述）"}}),e._v(" "),a("el-table-column",{attrs:{prop:"solution",label:"解决方案"}})],1)],1)}),l=[],s=(a("a481"),a("8615"),a("ac6a"),a("456d"),a("7f7f"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{attrs:{data:e.data,border:"","row-key":"id","default-expand-all":"","tree-props":{children:"refs",hasChildren:"hasChildren"},"cell-style":e.cellStyleSmall(),"header-cell-style":e.headCellStyleSmall(),"empty-text":"无参数"}},[a("el-table-column",{attrs:{prop:"name",label:"名称",width:"250"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.type))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"array"===t.row.type&&t.row.elementType,expression:"scope.row.type === 'array' && scope.row.elementType"}]},[a("el-tooltip",{attrs:{effect:"dark",content:"元素类型："+t.row.elementType,placement:"top"}},[a("i",{staticClass:"el-icon-info"})])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"required",label:"必须",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:t.row.required?"danger":""},[e._v(e._s(t.row.required?"是":"否"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"maxLength",label:"最大长度"}}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),e._v(" "),a("el-table-column",{attrs:{prop:"paramExample",label:"示例值"},scopedSlots:e._u([{key:"default",fn:function(t){return["enum"===t.row.type?a("div",[e._v("\n        "+e._s((t.row.enums||[]).join("、"))+"\n      ")]):a("div",[e._v("\n        "+e._s(t.row.paramExample)+"\n      ")])]}}])})],1)}),i=[],c={name:"ParameterTable",props:{data:{type:Array,default:function(){return[]}},tree:{type:Boolean,default:!0}}},u=c,p=a("2877"),d=Object(p["a"])(u,s,i,!1,null,null,null),f=d.exports,m={name:"DocView",components:{ParameterTable:f},props:{item:{type:Object,default:function(){}},urlProd:{type:String,default:""}},data:function(){return{active:"info",baseInfoCellStyle:function(e){return 0===e.columnIndex||2===e.columnIndex?{padding:"5px 0",background:"#f5f7fa"}:{padding:"5px 0"}},commonParams:[],commonResult:[],docBaseInfoData:[],docInfo:{summary:"",httpMethodList:[],requestParameters:[],responseParameters:[],bizCodes:[]},responseSuccessExample:{},responseErrorExample:{error_response:{request_id:"0d27836fcac345729176359388aeeb74",code:"40004",msg:"业务处理失败",sub_code:"isv.name-error",sub_msg:"姓名错误"}}}},watch:{item:function(e){this.initItem(e)}},created:function(){var e=this;this.getFile("static/params.json",(function(t){e.commonParams=t.commonParams,e.commonResult=t.commonResult}))},methods:{initItem:function(e){this.setData(e)},setData:function(e){this.docInfo=e,this.createResponseExample(e)},createResponseExample:function(e){var t={},a={request_id:"4b8e7ca9cbcb448491df2f0120e49b9d",code:"10000",msg:"success"};t[this.getResponseNodeName()]=a;var r=this.createExample(e.responseParameters);for(var n in r)a[n]=r[n];this.responseSuccessExample=t},createExample:function(e){for(var t={},a=0;a<e.length;a++){var r=e[a];if("header"!==r.in){var n=void 0;if(r.refs&&r.refs.length>0){var o=this.createExample(r.refs);n="array"===r.type?[o]:o}else n=r.paramExample;t[r.name]=n}}var l=1===Object.keys(t).length&&this.isArray(Object.values(t)[0]);return l?Object.values(t)[0]:t},getResponseNodeName:function(){var e=this.docInfo.name;return e.replace(/\./g,"_")+"_response"}}},h=m,v=(a("164c"),Object(p["a"])(h,o,l,!1,null,"0f669452",null)),b=v.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"doc-debug"},[a("h2",[e._v(e._s(e.docInfo.summary))]),e._v(" "),a("el-form",{ref:"configForm",attrs:{size:"mini",model:e.configFormData,rules:e.configFormRules,"label-width":"120px"}},[a("el-form-item",{attrs:{prop:"url",label:"网关地址"}},[a("el-input",{attrs:{clearable:""},model:{value:e.configFormData.url,callback:function(t){e.$set(e.configFormData,"url",t)},expression:"configFormData.url"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"appKey",label:"AppId"}},[a("el-input",{attrs:{clearable:""},model:{value:e.configFormData.appKey,callback:function(t){e.$set(e.configFormData,"appKey",t)},expression:"configFormData.appKey"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"privateKey",label:"应用私钥"}},[a("el-input",{attrs:{clearable:""},on:{change:e.onPrivateKeyChange},model:{value:e.configFormData.privateKey,callback:function(t){e.$set(e.configFormData,"privateKey",t)},expression:"configFormData.privateKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"token"}},[a("el-input",{attrs:{clearable:""},model:{value:e.configFormData.token,callback:function(t){e.$set(e.configFormData,"token",t)},expression:"configFormData.token"}})],1)],1),e._v(" "),a("h2",[e._v("请求参数")]),e._v(" "),a("parameter-table-edit",{ref:"paramTableRef",attrs:{data:e.docInfo.requestParameters}}),e._v(" "),a("el-upload",{directives:[{name:"show",rawName:"v-show",value:e.docInfo.multiple,expression:"docInfo.multiple"}],staticStyle:{width:"500px","margin-top":"10px"},attrs:{action:"",multiple:!0,"auto-upload":!1,"on-remove":function(t,a){return e.onSelectMultiFile(t,a)},"on-change":function(t,a){return e.onSelectMultiFile(t,a)}}},[a("el-button",{attrs:{slot:"trigger",type:"primary",size:"mini"},slot:"trigger"},[e._v("上传多个文件")])],1),e._v(" "),a("br"),e._v(" "),a("el-form",{attrs:{size:"mini"}},[a("el-form-item",{attrs:{label:"HttpMethod"}},[a("el-radio-group",{model:{value:e.httpMethod,callback:function(t){e.httpMethod=t},expression:"httpMethod"}},e._l(e.docInfo.httpMethodList,(function(t){return a("el-radio",{key:t,attrs:{label:t}},[e._v(e._s(t.toUpperCase()))])})),1)],1)],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.send}},[e._v("发送请求")]),e._v(" "),a("el-tabs",{directives:[{name:"show",rawName:"v-show",value:e.resultShow,expression:"resultShow"}]},[a("el-tabs",{attrs:{type:"card"},model:{value:e.resultActive,callback:function(t){e.resultActive=t},expression:"resultActive"}},[a("el-tab-pane",{attrs:{label:"请求信息",name:"reqInfo"}},[a("el-input",{attrs:{type:"textarea",rows:10,readonly:""},model:{value:e.reqInfo,callback:function(t){e.reqInfo=t},expression:"reqInfo"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"请求结果",name:"resultContent"}},[a("el-input",{attrs:{type:"textarea",rows:16,readonly:""},model:{value:e.resultContent,callback:function(t){e.resultContent=t},expression:"resultContent"}})],1)],1)],1)],1)},g=[],y=(a("3b2b"),a("4917"),a("f559"),a("28a5"),a("5df3"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{attrs:{data:e.data,border:"","row-key":"id","default-expand-all":"","tree-props":{children:"refs",hasChildren:"hasChildren"},"cell-style":e.cellStyleSmall(),"header-cell-style":e.headCellStyleSmall(),"empty-text":"无参数"}},[a("el-table-column",{attrs:{prop:"name",label:"名称",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:{required:t.row.required}},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.type))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"array"===t.row.type&&t.row.elementType,expression:"scope.row.type === 'array' && scope.row.elementType"}]},[a("el-tooltip",{attrs:{effect:"dark",content:"元素类型："+t.row.elementType,placement:"top"}},[a("i",{staticClass:"el-icon-info"})])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"paramExample",label:"参数值"},scopedSlots:e._u([{key:"default",fn:function(t){return["object"!==t.row.type?a("el-form",{ref:"req_form_example_"+t.row.id,staticStyle:{display:"inline-block"},attrs:{model:t.row,rules:e.buildParamRules(t.row),size:"mini"}},[a("el-form-item",{staticClass:"table-control",attrs:{prop:"paramExample","label-width":"0"}},["file"===t.row.type||"file"===t.row.elementType?a("el-upload",{attrs:{action:"",multiple:!1,"auto-upload":!1,"on-change":function(a,r){return e.onSelectFile(a,r,t.row)},"on-remove":function(a,r){return e.onSelectFile(a,r,t.row)}}},[a("el-button",{staticClass:"choose-file",attrs:{slot:"trigger",type:"primary"},slot:"trigger"},[e._v("选择文件")])],1):a("el-input",{attrs:{placeholder:"参数值",clearable:""},model:{value:t.row.paramExample,callback:function(a){e.$set(t.row,"paramExample",a)},expression:"scope.row.paramExample"}})],1)],1):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"描述"}})],1)}),w=[],x={name:"ParameterTableEdit",props:{data:{type:Array,default:function(){return[]}},tree:{type:Boolean,default:!0}},methods:{buildParamRules:function(e){var t=[];e.required&&"file"!==e.type&&t.push({required:!0,message:"请填写参数值",trigger:"blur"});var a=parseInt(e.maxLength);return a&&t.push({max:a,message:"长度不超过 ".concat(a," 个字符"),trigger:"blur"}),{paramExample:t}},onSelectFile:function(e,t,a){var r=[];t.forEach((function(e){var t=e.raw;r.push(t)})),a.__file__={name:a.name,files:r}}}},S=x,I=(a("5a30"),Object(p["a"])(S,y,w,!1,null,null,null)),C=I.exports,k="sop.sendbox.privateKey",F={name:"Docdebug",components:{ParameterTableEdit:C},props:{item:{type:Object,default:function(){}},appId:{type:String,default:""},gatewayUrl:{type:String,default:""}},data:function(){return{baseInfoCellStyle:function(e){return 0===e.columnIndex||2===e.columnIndex?{padding:"5px 0",background:"#f5f7fa"}:{padding:"5px 0"}},configFormRules:{appKey:[{required:!0,message:"请填写AppId",trigger:"blur"}],privateKey:[{required:!0,message:"请填写应用私钥",trigger:"blur"}],url:[{required:!0,message:"请填写URL",trigger:"blur"}]},configFormData:{url:"",appKey:"",privateKey:"",token:""},httpMethod:"",docInfo:{summary:"",name:"",version:"",multiple:!1,uploadRequest:!1,httpMethodList:[],requestParameters:[],responseParameters:[],bizCodes:[]},uploadFiles:[],resultActive:"resultContent",resultShow:!1,reqInfo:"",resultContent:""}},watch:{item:function(e){this.initItem(e)},appId:function(e){this.configFormData.appKey=e},gatewayUrl:function(e){this.configFormData.url=e}},created:function(){var e=this.getAttr(k);e&&(this.configFormData.privateKey=e)},methods:{send:function(){var e=this;this.$refs.configForm.validate((function(t){if(t){var a=e.validateTable(e.docInfo.requestParameters,["req_form_example_"]);Promise.all(a).then((function(t){e.doSend()})).catch((function(e){}))}}))},doSend:function(){var e=this.buildParamData(this.docInfo.requestParameters),t={gatewayUrl:this.configFormData.url,appId:this.configFormData.appKey,privateKey:this.configFormData.privateKey,token:this.configFormData.token,method:this.docInfo.name,version:this.docInfo.version,httpMethod:this.httpMethod,bizContent:JSON.stringify(e)},a=this.buildFiles(this.docInfo.requestParameters),r="POST"===this.httpMethod.toUpperCase();this.request(this.httpMethod,"/sandbox/test_v2",t,{},!1,r,a,(function(e,t){this.resultShow=!0,this.resultActive="resultContent";var a=t.statusCode||t.status;e||200!==a?(console.log(e),this.$message.error("请求异常，请查看日志")):this.successHandler(t)}))},validateTable:function(e,t){for(var a=this,r=this.$refs.paramTableRef.$refs,n=[],o=function(o){var l=e[o],s=l.id;t.forEach((function(e){var t=r[e+s];t&&n.push(t.validate())}));var i=e[o].children;if(i&&i.length>0){var c=a.validateTable(i,t);n=n.concat(c)}},l=0;l<e.length;l++)o(l);return n},successHandler:function(e){this.setReqInfo(e),this.setRespInfo(e)},setReqInfo:function(e){var t=e.headers;if(t){var a=[];a.push("【请求参数】："+decodeURIComponent(t["sendbox-params"])),a.push("【待签名内容】："+decodeURIComponent(t["sendbox-beforesign"])),a.push("【签名(sign)】："+decodeURIComponent(t["sendbox-sign"])),this.reqInfo=a.join("\r\n")}},setRespInfo:function(e){var t=e.headers,a=t["target-response-headers"]||"{}",r=JSON.parse(a),n=r["content-type"]||"",o=r["content-disposition"]||"";if(n.indexOf("stream")>-1||o.indexOf("attachment")>-1){var l=this.getDispositionFilename(o);this.downloadFile(l,e.raw)}else{var s=e.body||e.data;this.resultContent=JSON.stringify(s,null,4)}},downloadFile:function(e,t){var a=window.URL.createObjectURL(new Blob([t])),r=document.createElement("a");r.href=a,r.setAttribute("download",e),document.body.appendChild(r),r.click()},getDispositionFilename:function(e){for(var t=e.split(";"),a=0;a<t.length;a++){var r=t[a].trim();if(r.toLowerCase().startsWith("filename")){var n=r.match(new RegExp('filename="(.*?)"',"i"));return n?n[1]:""}}},resetResult:function(){this.reqInfo="",this.resultContent="",this.resultShow=!1},initItem:function(e){e&&this.setData(e)},setData:function(e){this.resetResult(),this.docInfo=e,this.httpMethod=this.docInfo.httpMethodList[0]},onSelectMultiFile:function(e,t){var a=[];t.forEach((function(e){var t=e.raw;a.push(t)})),this.uploadFiles=a},onPrivateKeyChange:function(){this.setAttr(k,this.configFormData.privateKey)},buildParamData:function(e){for(var t={},a=0;a<e.length;a++){var r=e[a];if("header"!==r.in){var n=void 0;if(r.refs&&r.refs.length>0){var o=this.buildParamData(r.refs);n="array"===r.type?[o]:o}else n=r.paramExample;t[r.name]=n}}var l=1===Object.keys(t).length&&this.isArray(Object.values(t)[0]);return l?Object.values(t)[0]:t},buildFiles:function(e){for(var t=[],a=0;a<e.length;a++){var r=e[a],n=r.__file__;n&&t.push(n)}return this.uploadFiles.length>0&&t.push({name:"file",files:this.uploadFiles}),t}}},E=F,O=(a("66a7"),Object(p["a"])(E,_,g,!1,null,null,null)),P=O.exports,D={components:{docView:b,docdebug:P},data:function(){return{active:"info",docVO:{appId:"",gatewayUrl:"",urlProd:"",urlTest:"",menuProjects:[]},item:null,filterText:"",defaultProps:{children:"children",label:"label"}}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},created:function(){this.loadTree()},methods:{loadTree:function(){this.get("/portal/isv/getDocMenus",{},(function(e){this.docVO=e.data}))},filterNode:function(e,t){return!e||-1!==JSON.stringify(t).indexOf(e)},onDocSelect:function(e,t){this.showDoc(e)},showDoc:function(e){e.id&&this.get("/portal/isv/getDocItem",{id:e.id},(function(e){this.item=e.data}))}}},R=D,q=Object(p["a"])(R,r,n,!1,null,null,null);t["default"]=q.exports},e241:function(e,t,a){},f559:function(e,t,a){"use strict";var r=a("5ca1"),n=a("9def"),o=a("d2c8"),l="startsWith",s=""[l];r(r.P+r.F*a("5147")(l),"String",{startsWith:function(e){var t=o(this,e,l),a=n(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return s?s.call(t,r,a):t.slice(a,a+r.length)===r}})}}]);